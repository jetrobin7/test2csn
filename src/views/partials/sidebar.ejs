<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSN Dashboard</title>
    <!-- Boxicons -->
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
    <!-- Remixicon -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" rel="stylesheet" />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100..900&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Local CSS -->
    <link rel="stylesheet" href="http://localhost:3000/assets/partials.css">
</head>
<body>
    <!-- Sidebar -->
    <div class="bg-white" id="sidebar-wrapper">
        <div class="logo-container text-center py-4">
            <img src="/images/csn logo.png" alt="CSN Logo" class="csn-logo img-fluid">
            <div class="text-container">
                <h3>Para√±aque Center for</h3>
                <h2>Children with Special Needs</h2>
            </div>
        </div>
        <div class="list-group list-group-flush my-3">
            <!-- Dashboard -->
            <a href="/admin/dashboard" class="list-group-item list-group-item-action bg-transparent second-text">
                <i class="ri-dashboard-fill"></i> <strong>Dashboard</strong>
            </a>
            <!-- Student Appointment with Dropdown -->
            <a href="#appointmentMenu" data-bs-toggle="collapse" class="list-group-item list-group-item-action bg-transparent second-text">
                <i class="bx bxs-calendar"></i> <strong>Student Appointment</strong>
                <i class="bx bx-chevron-right"></i>
            </a>
            <div class="collapse" id="appointmentMenu">
                <a href="../admin/a_make_an_appointment" class="list-group-item list-group-item-action bg-transparent second-text ps-5">Add New Appointment</a>
                <a href="../admin/manage_appointment" class="list-group-item list-group-item-action bg-transparent second-text ps-5">Manage Appointment</a>
                <hr>
                <a href="../admin/types_of_therapy" class="list-group-item list-group-item-action bg-transparent second-text ps-5">Types of Therapy</a>
            </div>
            <a href="#managementMenu" data-bs-toggle="collapse" class="list-group-item list-group-item-action bg-transparent second-text ">
                <i class="ri-user-settings-fill"></i> <strong>Student Management</strong>
                <i class='bx bx-chevron-right'></i>
            </a>
            <div class="collapse" id="managementMenu">
                <a href="../admin/add_new_student" class="list-group-item list-group-item-action bg-transparent second-text ps-5">
                    Add New Student
                </a>
                <a href="/admin/masterlist" class="list-group-item list-group-item-action bg-transparent second-text ps-5">
                    Student Masterlist
                </a>
            </div>

            <!-- User Management with Dropdown -->
            <a href="#userProfileMenu" data-bs-toggle="collapse" class="list-group-item list-group-item-action bg-transparent second-text ">
                <i class='bx bxs-user-rectangle'></i> <strong>User Management</strong>
                <i class='bx bx-chevron-right'></i>
            </a>    
            <div class="collapse" id="userProfileMenu">
                <a href="../addteacher" class="list-group-item list-group-item-action bg-transparent second-text ps-5">
                    Add New User
                </a>
                <a href="../admin/manage_user" class="list-group-item list-group-item-action bg-transparent second-text ps-5">
                    Manage Users
                </a>
            </div>

            <!-- Generate Report with Dropdown -->
            <a href="#reportMenu" data-bs-toggle="collapse" class="list-group-item list-group-item-action bg-transparent second-text ">
                <i class='bx bxs-file'></i> <strong>Generate Report</strong>
                <i class='bx bx-chevron-right'></i>
            </a>
            <div class="collapse" id="reportMenu">
                <a href="/admin/genMasterlistReport" class="list-group-item list-group-item-action bg-transparent second-text ps-5">
                    Students Masterlist
                </a>
                <a href="/admin/indivReport" class="list-group-item list-group-item-action bg-transparent second-text ps-5">
                    Individual Students
                </a>
            </div>

            <!-- Profile with Dropdown -->
            <a href="#profileMenu" data-bs-toggle="collapse" class="list-group-item list-group-item-action bg-transparent second-text ">
                <i class='bx bxs-user-rectangle'></i> <strong>Profile</strong>
                <i class='bx bx-chevron-right'></i>
            </a>
            <div class="collapse" id="profileMenu">
                <a href="myprofile.php" class="list-group-item list-group-item-action bg-transparent second-text ps-5">
                    My Profile
                </a>
                <a href="/user/alogout" class="list-group-item list-group-item-action bg-transparent second-text ps-5">
                    Logout
                </a>
                </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // JavaScript to manage chevron rotation and closing other dropdowns
        document.querySelectorAll('.list-group-item[data-bs-toggle="collapse"]').forEach(function (item) {
            item.addEventListener('click', function () {
                const targetDropdown = this.getAttribute('href');
                const chevron = this.querySelector('.bx-chevron-right');

                // Close other dropdowns and reset their chevrons
                document.querySelectorAll('.collapse').forEach(function (collapse) {
                    if ('#' + collapse.id !== targetDropdown && collapse.classList.contains('show')) {
                        new bootstrap.Collapse(collapse, { toggle: false }).hide();
                    }
                });

                // Rotate current chevron and reset others
                document.querySelectorAll('.bx-chevron-right').forEach(function (otherChevron) {
                    if (otherChevron !== chevron) {
                        otherChevron.classList.remove('rotate');
                    }
                });

                // Toggle current chevron rotation
                chevron.classList.toggle('rotate');
            });
        });
    </script>

    <style>
        /* Chevron rotation */
        .rotate {
            transform: rotate(90deg);
            transition: transform 0.3s ease;
        }
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            text-align: center;
        }
        .csn-logo {
            max-width: 100px;
            margin-bottom: 10px;
        }
        .text-container h2, .text-container h3 {
            margin: 0;
            font-weight: normal;
        }
    </style>
</body>
</html>
